$(document).ready((function(){var window_width;function highlightDateBorder(elementVal,date){if(elementVal){var currentDate=date.getDate(),currentMonth=date.getMonth()+1;currentMonth<10&&(currentMonth="0"+currentMonth),currentDate<10&&(currentDate="0"+currentDate),dmy=date.getFullYear()+"-"+currentMonth+"-"+currentDate;var date_format=elementVal.split("-"),check_in_time=date_format[2]+"-"+date_format[1]+"-"+date_format[0];return dmy==check_in_time?[!0,"selectedCheckedDate","Check-In date"]:[!0,""]}return[!0,""]}$(window).width()>=767&&$(".fancy_search_header_xs").hide(),$("body").length&&$(window).resize((function(){var window_width;$(window).width()>=767?($.fancybox.close(),$(".fancy_search_header_xs").hide()):$(".fancy_search_header_xs").show()})),$((function(){$("#xs_room_search").fancybox({minWidth:200,autoSize:!0,autoScale:!1,maxWidth:"100%",hideOnContentClick:!1,afterClose:function(){$(".header-rmsearch-container").show(),$("#xs_room_search_form").show()}})}));var ajax_check_var="";function abortRunningAjax(){ajax_check_var&&ajax_check_var.abort()}$(".location_search_results_ul").hide(),$("#check_in_time_mob").datepicker({showOtherMonths:!0,dateFormat:"dd-mm-yy",minDate:0,beforeShowDay:function(date){return highlightDateBorder($("#check_in_time_mob").val(),date)},onSelect:function(selectedDate){var date_format=selectedDate.split("-"),selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format[2],date_format[1]-1,date_format[0])))).setDate(selectedDate.getDate()+1),$("#check_out_time_mob").datepicker("option","minDate",selectedDate)}}),$("#check_out_time_mob").datepicker({showOtherMonths:!0,dateFormat:"dd-mm-yy",beforeShowDay:function(date){return highlightDateBorder($("#check_out_time_mob").val(),date)},beforeShow:function(input,instance){var date_to=$("#check_in_time_mob").val();if(void 0!==date_to&&""!=date_to){var date_format=date_to.split("-"),selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format[2],date_format[1]-1,date_format[0])))).setDate(selectedDate.getDate()+1),$("#check_out_time_mob").datepicker("option","minDate",selectedDate)}else{var date_format=new Date,selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date))).setDate(selectedDate.getDate()+1),$("#check_out_time_mob").datepicker("option","minDate",selectedDate)}}}),$("#check_in_time2").datepicker({showOtherMonths:!0,dateFormat:"dd-mm-yy",minDate:0,beforeShowDay:function(date){return highlightDateBorder($("#check_in_time2").val(),date)},onSelect:function(selectedDate){var date_format=selectedDate.split("-"),selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format[2],date_format[1]-1,date_format[0])))).setDate(selectedDate.getDate()+1),$("#check_out_time2").datepicker("option","minDate",selectedDate)}}),$("#check_out_time2").datepicker({showOtherMonths:!0,dateFormat:"dd-mm-yy",beforeShowDay:function(date){return highlightDateBorder($("#check_out_time2").val(),date)},beforeShow:function(input,instance){var date_to=$("#check_in_time2").val();if(void 0!==date_to&&""!=date_to){var date_format=date_to.split("-"),selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format[2],date_format[1]-1,date_format[0])))).setDate(selectedDate.getDate()+1),$("#check_out_time2").datepicker("option","minDate",selectedDate)}else{var date_format=new Date,selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date))).setDate(selectedDate.getDate()+1),$("#check_out_time2").datepicker("option","minDate",selectedDate)}}}),$("#check_in_time").datepicker({showOtherMonths:!0,dateFormat:"dd-mm-yy",minDate:0,beforeShowDay:function(date){return highlightDateBorder($("#check_in_time").val(),date)},onSelect:function(selectedDate){var date_format=selectedDate.split("-"),selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format[2],date_format[1]-1,date_format[0])))).setDate(selectedDate.getDate()+1),$("#check_out_time").datepicker("option","minDate",selectedDate)}}),$("#check_out_time").datepicker({showOtherMonths:!0,dateFormat:"dd-mm-yy",beforeShowDay:function(date){return highlightDateBorder($("#check_out_time").val(),date)},beforeShow:function(input,instance){var date_to=$("#check_in_time").val();if(void 0!==date_to&&""!=date_to){var date_format=date_to.split("-"),selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format[2],date_format[1]-1,date_format[0])))).setDate(selectedDate.getDate()+1),$("#check_out_time").datepicker("option","minDate",selectedDate)}else{var date_format=new Date,selectedDate;(selectedDate=new Date($.datepicker.formatDate("yy-mm-dd",new Date))).setDate(selectedDate.getDate()+1),$("#check_out_time").datepicker("option","minDate",selectedDate)}}}),void 0!==max_order_date&&"undefined"!=typeof booking_date_to&&(max_order_date_cal=new Date(max_order_date),$("#check_out_time").datepicker("option","maxDate",new Date(max_order_date)),$("#check_out_time2").datepicker("option","maxDate",new Date(max_order_date)),$("#check_out_time_mob").datepicker("option","maxDate",new Date(max_order_date)),max_order_date_cal.setDate(max_order_date_cal.getDate()-1),$("#check_in_time").datepicker("option","maxDate",max_order_date_cal),$("#check_in_time2").datepicker("option","maxDate",max_order_date_cal),$("#check_in_time_mob").datepicker("option","maxDate",max_order_date_cal)),$("body").on("click",(function(event){$(".location_search_results_ul").is(":visible")&&"search_result_li"!=event.target.className&&"hotel_location"!=event.target.id&&$(".location_search_results_ul").empty().hide()})),$(document).on("keyup","#hotel_location",(function(event){!$(".location_search_results_ul").is(":visible")||40!=event.which&&38!=event.which?($(".location_search_results_ul").empty().hide(),""!=$(this).val()&&(abortRunningAjax(),ajax_check_var=$.ajax({url:autocomplete_search_url,data:{to_search_data:$(this).val()},method:"POST",dataType:"json",success:function(result){"success"==result.status&&($(".location_search_results_ul").html(result.data),$(".location_search_results_ul").show())}}))):($(this).blur(),40==event.which?$(".location_search_results_ul li:first").focus():38==event.which&&$(".location_search_results_ul li:last").focus())})),$(document).on("click",".location_search_results_ul li",(function(event){$("#hotel_location").attr("value",$(this).html()),$("#hotel_location").attr("city_cat_id",$(this).val()),$(".location_search_results_ul").empty().hide(),$.ajax({url:autocomplete_search_url,data:{hotel_city_cat_id:$("#hotel_location").attr("city_cat_id")},method:"POST",dataType:"json",success:function(result){"success"==result.status?($("#hotel_cat_id").val(""),$("#hotel_cat_name").html("Select Hotel"),$("#hotel_cat_id2").val(""),$("#hotel_cat_name2").html("Select Hotel"),$("#hotel_cat_id_mob").val(""),$("#hotel_cat_name_mob").html("Select Hotel"),$(".hotel_dropdown_ul").empty(),$(".hotel_dropdown_ul").html(result.data)):alert(no_results_found_cond)}})})),$(document).on("click",".hotel_dropdown_ul li",(function(){var max_order_date=$(this).attr("data-max_order_date");$("#check_in_time").datepicker("option","maxDate",new Date(max_order_date)),$("#check_out_time").datepicker("option","maxDate",new Date(max_order_date)),$("#check_in_time2").datepicker("option","maxDate",new Date(max_order_date)),$("#check_out_time2").datepicker("option","maxDate",new Date(max_order_date)),$("#check_in_time_mob").datepicker("option","maxDate",new Date(max_order_date)),$("#check_out_time_mob").datepicker("option","maxDate",new Date(max_order_date)),$("#max_order_date").val(max_order_date),$("#max_order_date2").val(max_order_date),$("#max_order_date_mob").val(max_order_date),$("#id_hotel").val($(this).attr("data-id-hotel")),$("#hotel_cat_id").val($(this).attr("data-hotel-cat-id")),$("#hotel_cat_name").html($(this).html()),$("#id_hotel2").val($(this).attr("data-id-hotel")),$("#hotel_cat_id2").val($(this).attr("data-hotel-cat-id")),$("#hotel_cat_name2").html($(this).html()),$("#id_hotel_mob").val($(this).attr("data-id-hotel")),$("#hotel_cat_id_mob").val($(this).attr("data-hotel-cat-id")),$("#hotel_cat_name_mob").html($(this).html())})),$(".hotel_cat_id_btn").on("click",(function(){$(this).hasClass("error_border")&&($(this).removeClass("error_border"),$("#select_htl_error_p").empty())}));var max_order_date=$("#max_order_date").val();""!=max_order_date&&($("#check_in_time").datepicker("option","maxDate",new Date(max_order_date)),$("#check_out_time").datepicker("option","maxDate",new Date(max_order_date)));var max_order_date2=$("#max_order_date2").val();""!=max_order_date2&&($("#check_in_time2").datepicker("option","maxDate",new Date(max_order_date2)),$("#check_out_time2").datepicker("option","maxDate",new Date(max_order_date2)));var max_order_date_mob=$("#max_order_date_mob").val();""!=max_order_date_mob&&($("#check_in_time_mob").datepicker("option","maxDate",new Date(max_order_date_mob)),$("#check_out_time_mob").datepicker("option","maxDate",new Date(max_order_date_mob))),$("#check_in_time, #check_out_time").on("focus",(function(){$(this).hasClass("error_border")&&($(this).removeClass("error_border"),"check_in_time"==$(this).attr("name")?$("#check_in_time_error_p").empty():"check_out_time"==$(this).attr("name")&&$("#check_out_time_error_p").empty())})),$("#check_in_time2, #check_out_time2").on("focus",(function(){$(this).hasClass("error_border")&&($(this).removeClass("error_border"),"check_in_time2"==$(this).attr("name")?$("#check_in_time_error_p2").empty():"check_out_time2"==$(this).attr("name")&&$("#check_out_time_error_p2").empty())})),$("#check_in_time_mob, #check_out_time_mob").on("focus",(function(){$(this).hasClass("error_border")&&($(this).removeClass("error_border"),"check_in_time_mob"==$(this).attr("name")?$("#check_in_time_error_p_mob").empty():"check_out_time_mob"==$(this).attr("name")&&$("#check_out_time_error_p_mob").empty())})),$("#search_room_submit, #filter_search_btn").on("click",(function(e){var check_in_time=$("#check_in_time").val(),check_out_time=$("#check_out_time").val(),date_format_check_in=check_in_time.split("-"),new_chk_in=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format_check_in[2],date_format_check_in[1]-1,date_format_check_in[0]))),date_format_check_out=check_out_time.split("-"),new_chk_out=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format_check_out[2],date_format_check_out[1]-1,date_format_check_out[0]))),max_order_date=$("#max_order_date").val(),max_order_date_format=$.datepicker.formatDate("yy-mm-dd",new Date(max_order_date)),error=!1,locationCatId=$("#hotel_location").attr("city_cat_id"),hotelCatId=$("#hotel_cat_id").val();return $(".header-rmsearch-input").removeClass("error_border"),""==hotelCatId&&(void 0!==locationCatId&&""!=locationCatId||($("#hotel_location").addClass("error_border"),error=!0,console.log("1")),$("#id_hotel_button").addClass("error_border"),$("#select_htl_error_p").text(hotel_name_cond),error=!0,console.log("2")),""==check_in_time?($("#check_in_time").addClass("error_border"),$("#check_in_time_error_p").text(check_in_time_cond),error=!0):new_chk_in<$.datepicker.formatDate("yy-mm-dd",new Date)&&($("#check_in_time").addClass("error_border"),$("#check_in_time_error_p").text(less_checkin_date),error=!0),""==check_out_time?($("#check_out_time").addClass("error_border"),$("#check_out_time_error_p").text(check_out_time_cond),error=!0):new_chk_out<new_chk_in?($("#check_out_time").addClass("error_border"),$("#check_out_time_error_p").text(more_checkout_date),error=!0):max_order_date_format<new_chk_in?($("#check_in_time").addClass("error_border"),$("#check_in_time_error_p").text(max_order_date_err+" "+max_order_date),error=!0):max_order_date_format<new_chk_out&&($("#check_out_time").addClass("error_border"),$("#check_out_time_error_p").text(max_order_date_err+" "+max_order_date),error=!0),!0})),$("#filter_search_btn2").on("click",(function(e){var check_in_time=$("#check_in_time2").val(),check_out_time=$("#check_out_time2").val(),date_format_check_in=check_in_time.split("-"),new_chk_in=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format_check_in[2],date_format_check_in[1]-1,date_format_check_in[0]))),date_format_check_out=check_out_time.split("-"),new_chk_out=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format_check_out[2],date_format_check_out[1]-1,date_format_check_out[0]))),max_order_date=$("#max_order_date2").val(),max_order_date_format=$.datepicker.formatDate("yy-mm-dd",new Date(max_order_date)),error=!1,locationCatId=$("#hotel_location").attr("city_cat_id"),hotelCatId=$("#hotel_cat_id2").val();return $(".header-rmsearch-input").removeClass("error_border"),""==hotelCatId&&(void 0!==locationCatId&&""!=locationCatId||($("#hotel_location").addClass("error_border"),error=!0,console.log("1")),$("#id_hotel_button").addClass("error_border"),$("#select_htl_error_p").text(hotel_name_cond),error=!0,console.log("2")),""==check_in_time?($("#check_in_time2").addClass("error_border"),$("#check_in_time_error_p2").text(check_in_time_cond),error=!0):new_chk_in<$.datepicker.formatDate("yy-mm-dd",new Date)&&($("#check_in_time2").addClass("error_border"),$("#check_in_time_error_p2").text(less_checkin_date),error=!0),""==check_out_time?($("#check_out_time2").addClass("error_border"),$("#check_out_time_error_p2").text(check_out_time_cond),error=!0):new_chk_out<new_chk_in?($("#check_out_time2").addClass("error_border"),$("#check_out_time_error_p2").text(more_checkout_date),error=!0):max_order_date_format<new_chk_in?($("#check_in_time2").addClass("error_border"),$("#check_in_time_error_p2").text(max_order_date_err+" "+max_order_date),error=!0):max_order_date_format<new_chk_out&&($("#check_out_time2").addClass("error_border"),$("#check_out_time_error_p2").text(max_order_date_err+" "+max_order_date),error=!0),!error})),$("#filter_search_btn_mob").on("click",(function(e){var check_in_time=$("#check_in_time_mob").val(),check_out_time=$("#check_out_time_mob").val(),date_format_check_in=check_in_time.split("-"),new_chk_in=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format_check_in[2],date_format_check_in[1]-1,date_format_check_in[0]))),date_format_check_out=check_out_time.split("-"),new_chk_out=new Date($.datepicker.formatDate("yy-mm-dd",new Date(date_format_check_out[2],date_format_check_out[1]-1,date_format_check_out[0]))),max_order_date=$("#max_order_date_mob").val(),max_order_date_format=$.datepicker.formatDate("yy-mm-dd",new Date(max_order_date)),error=!1,locationCatId=$("#hotel_location").attr("city_cat_id"),hotelCatId=$("#hotel_cat_id_mob").val();return $(".header-rmsearch-input").removeClass("error_border"),""==hotelCatId&&(void 0!==locationCatId&&""!=locationCatId||($("#hotel_location").addClass("error_border"),error=!0,console.log("1")),$("#id_hotel_button").addClass("error_border"),$("#select_htl_error_p").text(hotel_name_cond),error=!0,console.log("2")),""==check_in_time?($("#check_in_time_mob").addClass("error_border"),$("#check_in_time_error_p_mob").text(check_in_time_cond),error=!0):new_chk_in<$.datepicker.formatDate("yy-mm-dd",new Date)&&($("#check_in_time_mob").addClass("error_border"),$("#check_in_time_error_p_mob").text(less_checkin_date),error=!0),""==check_out_time?($("#check_out_time_mob").addClass("error_border"),$("#check_out_time_error_p_mob").text(check_out_time_cond),error=!0):new_chk_out<new_chk_in?($("#check_out_time_mob").addClass("error_border"),$("#check_out_time_error_p_mob").text(more_checkout_date),error=!0):max_order_date_format<new_chk_in?($("#check_in_time_mob").addClass("error_border"),$("#check_in_time_error_p_mob").text(max_order_date_err+" "+max_order_date),error=!0):max_order_date_format<new_chk_out&&($("#check_out_time_mob").addClass("error_border"),$("#check_out_time_error_p_mob").text(max_order_date_err+" "+max_order_date),error=!0),!error})),$(document).on("keydown","body",(function(e){if((40==e.which||38==e.which)&&$(".location_search_results_ul li.search_result_li").is(":focus"))return e.preventDefault(),!1})),$("body").on("keyup",".search_result_li",(function(event){var ul_len=$(".location_search_results_ul li").length;40==event.which||38==event.which?($(this).blur(),$(this).closest("ul").scrollTop($(this).index()*$(this).outerHeight()),40==event.which?$(this).index()!=ul_len-1?$(this).next("li.search_result_li").focus():$(".location_search_results_ul li:first").focus():38==event.which&&($(this).index()?$(this).prev("li.search_result_li").focus():$(".location_search_results_ul li:last").focus())):13==event.which&&$(this).click()}))}));